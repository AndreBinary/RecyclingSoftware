<!-- Start:: row-1 -->
<div class="row">
  <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-sm-6 col-12">
    <div class="card custom-card">
      <div class="card-body p-2">
        <div
          class="d-flex align-items-center justify-content-between bg-primary-transparent p-3 rounded flex-wrap gap-3"
        >
          <div class="flex-fill">
            <span class="d-block mb-2 text-default">Total Vehicles</span>
            <div class="d-flex align-items-end">
              <h4 class="fw-medium mb-0 lh-1">18</h4>
              <!-- <span class="d-block text-success ms-2 fw-medium"
                >0.67%<i class="ti ti-arrow-narrow-up"></i
              ></span> -->
            </div>
          </div>
          <div class="main-card-icon primary">
            <div
              class="avatar avatar-lg bg-primary-transparent border border-primary border-opacity-10"
            >
              <div class="avatar avatar-sm svg-white">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="icon icon-tabler icons-tabler-outline icon-tabler-bulldozer"
                >
                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                  <path d="M2 17a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
                  <path d="M12 17a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
                  <path d="M19 13v4a2 2 0 0 0 2 2h1" />
                  <path d="M14 19h-10" />
                  <path d="M4 15h10" />
                  <path d="M9 11v-5h2a3 3 0 0 1 3 3v6" />
                  <path d="M5 15v-3a1 1 0 0 1 1 -1h8" />
                  <path d="M19 17h-3" />
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-sm-6 col-12">
    <div class="card custom-card">
      <div class="card-body p-2">
        <div
          class="d-flex align-items-center justify-content-between bg-success-transparent p-3 rounded flex-wrap gap-3"
        >
          <div class="flex-fill">
            <span class="d-block mb-2 text-default">Active Vehicles</span>
            <div class="d-flex align-items-end">
              <h4 class="fw-medium mb-0 lh-1">17</h4>
              <span class="d-block text-danger ms-2 fw-medium"
                >4.45%<i class="ti ti-arrow-narrow-down"></i
              ></span>
            </div>
          </div>
          <div class="main-card-icon success">
            <div
              class="avatar avatar-lg bg-success-transparent border border-success border-opacity-10"
            >
              <div class="avatar avatar-sm svg-white">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="icon icon-tabler icons-tabler-outline icon-tabler-truck-delivery"
                >
                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                  <path d="M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
                  <path d="M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
                  <path
                    d="M5 17h-2v-4m-1 -8h11v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"
                  />
                  <path d="M3 9l4 0" />
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-sm-6 col-12">
    <div class="card custom-card">
      <div class="card-body p-2">
        <div
          class="d-flex align-items-center justify-content-between bg-secondary-transparent p-3 rounded flex-wrap gap-3"
        >
          <div class="flex-fill">
            <span class="d-block mb-2 text-default">Avg Fuel</span>
            <div class="d-flex align-items-end">
              <h4 class="fw-medium mb-0 lh-1">16.9</h4>
              <span>KM/L</span>
              <span class="d-block text-success ms-2 fw-medium"
                >1.95%<i class="ti ti-arrow-narrow-up"></i
              ></span>
            </div>
          </div>
          <div class="main-card-icon secondary">
            <div
              class="avatar avatar-lg bg-secondary-transparent border border-secondary border-opacity-10"
            >
              <div class="avatar avatar-sm svg-white">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="icon icon-tabler icons-tabler-filled icon-tabler-gas-station"
                >
                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                  <path
                    d="M3 21a1 1 0 0 1 0 -2v-13a3 3 0 0 1 3 -3h6a3 3 0 0 1 3 3v4a3 3 0 0 1 3 3v3a.5 .5 0 1 0 1 0v-6a2 2 0 0 1 -2 -2v-.585l-.707 -.708a1 1 0 0 1 -.083 -1.32l.083 -.094a1 1 0 0 1 1.414 0l3.003 3.002l.095 .112l.028 .04l.044 .073l.052 .11l.031 .09l.02 .076l.012 .078l.008 .126v7a2.5 2.5 0 1 1 -5 0v-3a1 1 0 0 0 -1 -1v7a1 1 0 0 1 0 2zm9 -16h-6a1 1 0 0 0 -1 1v4h8v-4a1 1 0 0 0 -1 -1"
                  />
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-sm-6 col-12">
    <div class="card custom-card">
      <div class="card-body p-2">
        <div
          class="d-flex align-items-center justify-content-between bg-orange-transparent p-3 rounded flex-wrap gap-3"
        >
          <div class="flex-fill">
            <span class="d-block mb-2 text-default">Under Maintenance</span>
            <div class="d-flex align-items-end">
              <h4 class="fw-medium mb-0 lh-1">0</h4>
              <span class="d-block text-success ms-2"
                >1.56%<i class="ti ti-arrow-narrow-up"></i
              ></span>
            </div>
          </div>
          <div class="main-card-icon orange">
            <div
              class="avatar avatar-lg bg-orange-transparent border border-orange border-opacity-10"
            >
              <div class="avatar avatar-sm svg-white">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="icon icon-tabler icons-tabler-outline icon-tabler-tool"
                >
                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                  <path
                    d="M7 10h3v-3l-3.5 -3.5a6 6 0 0 1 8 8l6 6a2 2 0 0 1 -3 3l-6 -6a6 6 0 0 1 -8 -8l3.5 3.5"
                  />
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- End:: row-1 -->

<!-- Start:: row-1 -->

<div class="row">
  <div class="col-xl-8">
    <div class="card custom-card">
      <div class="card-header">
        <div class="card-title">Fuel Usage</div>
      </div>
      <div class="card-body">
        <div id="dynamic-chart">
          <apx-chart
            [series]="ReatTimeChartData.series"
            [chart]="ReatTimeChartData.chart"
            [xaxis]="ReatTimeChartData.xaxis"
            [dataLabels]="ReatTimeChartData.dataLabels"
            [grid]="ReatTimeChartData.grid"
            [stroke]="ReatTimeChartData.stroke"
            [title]="ReatTimeChartData.title"
            [markers]="ReatTimeChartData.markers"
            [colors]="ReatTimeChartData.colors"
            [yaxis]="ReatTimeChartData.yaxis"
            [fill]="ReatTimeChartData.fill"
          ></apx-chart>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xl-4">
    <div class="card custom-card">
      <div class="card-header justify-content-between">
        <div class="card-title">EARNINGS REPORT</div>
        <div ngbDropdown class="dropdown">
          <a
            ngbDropdownToggle
            href="javascript:void(0);"
            class="p-2 fs-12 text-muted no-caret"
            data-bs-toggle="dropdown"
            aria-expanded="true"
          >
            Sort By
            <i
              class="ri-arrow-down-s-line align-middle ms-1 d-inline-block"
            ></i>
          </a>
          <ul
            ngbDropdownMenu
            class="dropdown-menu"
            role="menu"
            style="
              position: absolute;
              inset: 0px 0px auto auto;
              margin: 0px;
              transform: translate(0px, 28px);
            "
            data-popper-placement="bottom-end"
          >
            <li>
              <a class="dropdown-item" href="javascript:void(0);">This Week</a>
            </li>
            <li>
              <a class="dropdown-item" href="javascript:void(0);">Last Week</a>
            </li>
            <li>
              <a class="dropdown-item" href="javascript:void(0);">This Month</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="card-body">
        <div id="analytics-earnings-report">
          <apx-chart
            [series]="chartOptions1.series"
            [chart]="chartOptions1.chart"
            [grid]="chartOptions1.grid"
            [stroke]="chartOptions1.stroke"
            [plotOptions]="chartOptions1.plotOptions"
            [dataLabels]="chartOptions1.dataLabels"
            [legend]="chartOptions1.legend"
            [tooltip]="chartOptions1.tooltip"
            [xaxis]="chartOptions1.xaxis"
            [colors]="chartOptions1.colors"
            [yaxis]="chartOptions1.yaxis"
          ></apx-chart>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- End:: row-2 -->

<!-- Start:: row-3 -->

<div class="row">
  <div class="col-xl-7">
    <div class="card custom-card overflow-hidden">
      <div class="card-header justify-content-between">
        <div class="card-title">Maintenance & Service</div>
        <!-- <div class="dropdown" ngbDropdown>
          <a
            href="javascript:void(0);"
            class="p-2 fs-12 no-caret"
            ngbDropdownToggle
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Sort By<i class="ri-arrow-down-s-line align-middle ms-1"></i>
          </a>
          <ul class="dropdown-menu" ngbDropdownMenu role="menu">
            <li>
              <a
                class="dropdown-item"
                ngbDropdownItem
                href="javascript:void(0);"
                >Today</a
              >
            </li>
            <li>
              <a
                class="dropdown-item"
                ngbDropdownItem
                href="javascript:void(0);"
                >This Week</a
              >
            </li>
            <li>
              <a
                class="dropdown-item"
                ngbDropdownItem
                href="javascript:void(0);"
                >Last Week</a
              >
            </li>
          </ul>
        </div> -->
      </div>
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table text-nowrap table-hover">
            <thead>
              <tr>
                <th scope="col">Vehicle</th>
                <th scope="col">Issue</th>
                <th scope="col">Status</th>
                <!-- <th scope="col">Action</th> -->
              </tr>
            </thead>
            <tbody>
              @for (alert of pagedAlertTableData; track alert.vehicle) {
              <tr>
                <td>
                  <div class="d-flex align-items-center">
                    <div class="align-items-center">
                      <p class="mb-0 fw-semibold">{{ alert.vehicle }}</p>
                    </div>
                  </div>
                </td>
                <td>
                  <div class="align-items-center">
                    <p class="mb-0 mt-1 fw-semibold">{{ alert.issue }}</p>
                  </div>
                </td>
                <td>
                  <span
                    class="badge"
                    [ngClass]="{
                      'bg-danger-transparent':
                        alert.status.toLowerCase() === 'critical',
                      'bg-warning-transparent':
                        alert.status.toLowerCase() === 'moderate',
                      'bg-success-transparent':
                        alert.status.toLowerCase() === 'upcoming',
                      'bg-secondary-transparent':
                        ['critical', 'moderate', 'upcoming'].indexOf(
                          alert.status.toLowerCase()
                        ) === -1
                    }"
                  >
                    {{ alert.status }}
                  </span>
                </td>
              </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
      <div class="card-footer border-top-0">
        <div class="d-flex align-items-center">
          <label for="alertPageSize" class="me-2 mb-0">Page Size:</label>
          <select id="alertPageSize" class="form-select form-select-sm w-auto me-3" [ngModel]="alertPageSize" (ngModelChange)="setAlertPageSize($event)">
            <option *ngFor="let size of [5, 10, 20, 50]" [value]="size">{{ size }}</option>
          </select>
          <nav aria-label="Page navigation">
            <ul class="pagination mb-0 float-end">
              <li class="page-item" [class.disabled]="alertCurrentPage === 1">
                <a class="page-link" href="#" (click)="setAlertPage(alertCurrentPage - 1, $event)">Previous</a>
              </li>
              <li class="page-item" *ngFor="let page of alertTotalPagesArray" [class.active]="page === alertCurrentPage">
                <a class="page-link" href="#" (click)="setAlertPage(page, $event)">{{ page }}</a>
              </li>
              <li class="page-item" [class.disabled]="alertCurrentPage === alertTotalPages">
                <a class="page-link" href="#" (click)="setAlertPage(alertCurrentPage + 1, $event)">Next</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xl-5">
    <div class="card custom-card overflow-hidden">
      <div class="card-header justify-content-between">
        <div class="card-title">Vehicle Acivity</div>
        <!-- <div class="dropdown" ngbDropdown>
          <a
            href="javascript:void(0);"
            ngbDropdownToggle
            class="p-2 fs-12 no-caret"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Sort By<i class="ri-arrow-down-s-line align-middle ms-1"></i>
          </a>
          <ul class="dropdown-menu" role="menu" ngbDropdownMenu>
            <li>
              <a
                class="dropdown-item"
                ngbDropdownItem
                href="javascript:void(0);"
                >Today</a
              >
            </li>
            <li>
              <a
                class="dropdown-item"
                ngbDropdownItem
                href="javascript:void(0);"
                >This Week</a
              >
            </li>
            <li>
              <a
                class="dropdown-item"
                ngbDropdownItem
                href="javascript:void(0);"
                >Last Week</a
              >
            </li>
          </ul>
        </div> -->
      </div>
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table text-nowrap">
            <thead>
              <tr>
                <th scope="row">Vehicle</th>
                <th scope="row">Assigned Driver</th>
                <th scope="row">Status</th>
              </tr>
            </thead>
            <tbody>
              @for (item of pagedVehicleTableData; track item.vehicle) {

              <tr>
                <td>
                  <div class="d-flex">
                    <div class="ms-2">
                      <p class="fw-semibold mb-0 d-flex align-items-center">
                        <a href="javascript:void(0);">{{ item.vehicle }}</a>
                      </p>
                    </div>
                  </div>
                </td>
                <td>
                  <div class="d-flex align-items-center">
                    <div class="lh-1">
                      <span class="avatar avatar-sm avatar-rounded me-2">
                        <img src="./assets/images/faces/4.jpg" alt="" />
                      </span>
                    </div>
                    <div class="align-items-center">
                      <p class="mb-0 fw-semibold">{{ item.driver }}</p>
                    </div>
                  </div>
                </td>
                <td>
                  <p class="mb-0 fw-semibold">{{ item.status }}</p>
                </td>
              </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
      <div class="card-footer border-top-0">
        <div class="d-flex align-items-center">
          <label for="pageSize" class="me-2 mb-0">Page Size:</label>
          <select id="pageSize" class="form-select form-select-sm w-auto me-3" [ngModel]="pageSize" (ngModelChange)="setPageSize($event)">
            <option *ngFor="let size of [5, 10, 20, 50]" [value]="size">{{ size }}</option>
          </select>
          <nav aria-label="Page navigation">
            <ul class="pagination mb-0 float-end">
              <li class="page-item" [class.disabled]="currentPage === 1">
                <a class="page-link" href="#" (click)="setPage(currentPage - 1, $event)">Previous</a>
              </li>
              <li class="page-item" *ngFor="let page of totalPagesArray" [class.active]="page === currentPage">
                <a class="page-link" href="#" (click)="setPage(page, $event)">{{ page }}</a>
              </li>
              <li class="page-item" [class.disabled]="currentPage === totalPages">
                <a class="page-link" href="#" (click)="setPage(currentPage + 1, $event)">Next</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- End:: row-3 -->
